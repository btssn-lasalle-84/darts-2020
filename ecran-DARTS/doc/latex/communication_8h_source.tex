\hypertarget{communication_8h_source}{}\subsection{communication.\+h}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#ifndef COMMUNICATION\_H}
00002 \textcolor{preprocessor}{#define COMMUNICATION\_H}
00003 
00013 \textcolor{preprocessor}{#include "\hyperlink{darts_8h}{darts.h}"}
00014 \textcolor{preprocessor}{#include <QObject>}
00015 \textcolor{preprocessor}{#include <QString>}
00016 \textcolor{preprocessor}{#include <QBluetoothLocalDevice>}
00017 \textcolor{preprocessor}{#include <QBluetoothServer>}
00018 \textcolor{preprocessor}{#include <unistd.h>}
00019 
\Hypertarget{communication_8h_source_l00024}\hyperlink{communication_8h_a8da23fa25560c54c52884746a5d1cc69}{00024} \textcolor{preprocessor}{#define TYPE\_TRAME "$DART"}
00025 
\Hypertarget{communication_8h_source_l00030}\hyperlink{communication_8h_aafcc0c7b4996f7783c9f4e766a233487}{00030} \textcolor{preprocessor}{#define DELIMITEUR\_FIN "\(\backslash\)r\(\backslash\)n"}
00031 
00032 \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{communication_8h_a50c84e57d8bf82d8048cc731a5679b64}{serviceUuid}(QStringLiteral(\textcolor{stringliteral}{"0000110a-0000-1000-8000-00805f9b34fb"}));
00033 \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{communication_8h_a28fc73dd6a464ea3a1cdb210ee7a1925}{serviceNom}(QStringLiteral(\textcolor{stringliteral}{"Ecran-Darts"}));
00034 
\Hypertarget{communication_8h_source_l00041}\hyperlink{class_communication}{00041} \textcolor{keyword}{class }\hyperlink{class_communication}{Communication} : \textcolor{keyword}{public} \hyperlink{class_q_object}{QObject}
00042 \{
00043     Q\_OBJECT
00044 \textcolor{keyword}{public}:
00045     \textcolor{keyword}{explicit} \hyperlink{class_communication_a6dd505094f1af1ccd25c6b75c18636d6}{Communication}(\hyperlink{class_darts}{Darts} *\hyperlink{class_communication_a494d609c206472041468e362d7cfc0e5}{darts}, \hyperlink{class_q_object}{QObject} *parent = \textcolor{keyword}{nullptr});  
00046     \hyperlink{class_communication_a75ba08ce908d45251e28e4c1db94e6f4}{~Communication}();                                                 
00047 
00048     \textcolor{keywordtype}{void} \hyperlink{class_communication_abe2349c8e1d9536a73c8741425ba867f}{parametrerBluetooth}();     
00049     \textcolor{keywordtype}{void} \hyperlink{class_communication_af29ea9a1c2ce29436f2331c322f6ebbf}{demarrer}();                
00050     \textcolor{keywordtype}{void} \hyperlink{class_communication_a1f4b02441803f9c8e231cb9f304d776b}{arreter}();                 
00051     \textcolor{keywordtype}{int} \hyperlink{class_communication_a977495ad03ddf275aae49184c9a0dd1a}{getEtatPartie}();
00052 
00053     \textcolor{keywordtype}{void} \hyperlink{class_communication_a01a86890468a8ecfb900bf15dcab92f2}{miseAJourEtatPartieRegle}();
00054     \textcolor{keywordtype}{void} \hyperlink{class_communication_a72557be8ab858096e03f08e78e036aeb}{miseAJourEtatPartieAttente}();                              
00055     \textcolor{keywordtype}{void} \hyperlink{class_communication_aaf8fbed545d460414fda14f23d5dca5d}{miseAJourEtatPartiePause}();                                
00056 
\Hypertarget{communication_8h_source_l00061}\hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdd}{00061}     \textcolor{keyword}{enum} \hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdd}{EtatPartie}
00062     \{
\Hypertarget{communication_8h_source_l00063}\hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdda1c2ad067e6861802f9f48fe30001f4dc}{00063}         \hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdda1c2ad067e6861802f9f48fe30001f4dc}{Attente} = 0,
\Hypertarget{communication_8h_source_l00064}\hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdda46965d82c1659dbd82d6b69aad687e54}{00064}         \hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdda46965d82c1659dbd82d6b69aad687e54}{EnCours} = 1,
\Hypertarget{communication_8h_source_l00065}\hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebddafa4e2a4dbf887d1384efe5432e17d57f}{00065}         \hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebddafa4e2a4dbf887d1384efe5432e17d57f}{Fin} = 2,
\Hypertarget{communication_8h_source_l00066}\hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebddae5ff9fbf58fec2640ed18150aa660bd1}{00066}         \hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebddae5ff9fbf58fec2640ed18150aa660bd1}{Pause} = 3,
\Hypertarget{communication_8h_source_l00067}\hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdda340ac4e51b04541499e50164be9d4d9f}{00067}         \hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdda340ac4e51b04541499e50164be9d4d9f}{Regle}       \textcolor{comment}{//État attente pendant la lecture des règles, seule une trame reset peut être reçu
       pour arrêter la lecture.}
00068     \};
00069 
00070 signals:
00071     \textcolor{keywordtype}{void} \hyperlink{class_communication_ae05ddbb1481cfb64f493940b6db8ed29}{appareilConnecter}();           
00072     \textcolor{keywordtype}{void} \hyperlink{class_communication_aff862483641966b73aa713b419b819a9}{afficherAttenteConnexion}();    
00073     \textcolor{keywordtype}{void} \hyperlink{class_communication_af79d126304cca4281db4624b1b457ade}{resetPartie}();                 
00074     \textcolor{keywordtype}{void} \hyperlink{class_communication_a369c7aeadc5c5926eb701bdebe53972c}{pause}();                       
00075     \textcolor{keywordtype}{void} \hyperlink{class_communication_a2645730b88adec069200debe05d212c3}{play}();                        
00076     \textcolor{keywordtype}{void} \hyperlink{class_communication_a9cb85e46b57b6dfa9e71408010bfc0a9}{erreurBluetooth}(QString erreur);             
00077     \textcolor{keywordtype}{void} \hyperlink{class_communication_a4ee52f9b4a1a97967ab2c48a33e0e392}{afficherRegle}(QString regle);
00078 
00079 \textcolor{keyword}{public} slots:
00080     \textcolor{keywordtype}{void} \hyperlink{class_communication_af6b9f4bf3b1df197ce20dccd9b78663f}{miseAJourEtatPartieFin}();                                  
00081     \textcolor{keywordtype}{void} \hyperlink{class_communication_a1f90de1ff5f98de887b9c77664e105c7}{miseAJourEtatPartieEnCours}();                              
00082 
00083 \textcolor{keyword}{private} slots:
00084     \textcolor{keywordtype}{void} \hyperlink{class_communication_a33db5c9db5da71c20c8c544d1de4eb9a}{deviceConnected}(\textcolor{keyword}{const} QBluetoothAddress &adresse);         
00085     \textcolor{keywordtype}{void} \hyperlink{class_communication_a0ee021f517bb0e3f7149ed13f8faf0b1}{deviceDisconnected}(\textcolor{keyword}{const} QBluetoothAddress &adresse);      
00086     \textcolor{keywordtype}{void} \hyperlink{class_communication_af95addb3c2bc178cfd7c92c6f94680a4}{error}(QBluetoothLocalDevice::Error erreur);                
00087     \textcolor{keywordtype}{void} \hyperlink{class_communication_ac1bc22603b6e05389f94890b745aac4f}{nouveauClient}();                                           
00088     \textcolor{keywordtype}{void} \hyperlink{class_communication_a0576a95d1f3c4ec49172a1040cfbeedf}{socketReadyRead}();                                         
00089     \textcolor{keywordtype}{void} \hyperlink{class_communication_a44f863f2c70f4be652224240447c9fe0}{socketDisconnected}();                                      
00090 
00091 
00092 \textcolor{keyword}{private}:
\Hypertarget{communication_8h_source_l00093}\hyperlink{class_communication_a494d609c206472041468e362d7cfc0e5}{00093}     \hyperlink{class_darts}{Darts} *\hyperlink{class_communication_a494d609c206472041468e362d7cfc0e5}{darts};                               
\Hypertarget{communication_8h_source_l00094}\hyperlink{class_communication_a6384747297d6efa9e8fd2fc79ed0c269}{00094}     QBluetoothServer *\hyperlink{class_communication_a6384747297d6efa9e8fd2fc79ed0c269}{serveur};                  
\Hypertarget{communication_8h_source_l00095}\hyperlink{class_communication_aa4ddc3151b305db0135d5826384645cc}{00095}     QBluetoothSocket *\hyperlink{class_communication_aa4ddc3151b305db0135d5826384645cc}{socket};                   
\Hypertarget{communication_8h_source_l00096}\hyperlink{class_communication_a6281796eab7523bef6be1a766e0e906f}{00096}     QBluetoothLocalDevice \hyperlink{class_communication_a6281796eab7523bef6be1a766e0e906f}{localDevice};          
\Hypertarget{communication_8h_source_l00097}\hyperlink{class_communication_aa7f9ee5e5d90336a56857ebc229e4274}{00097}     QBluetoothServiceInfo \hyperlink{class_communication_aa7f9ee5e5d90336a56857ebc229e4274}{serviceInfo};          
\Hypertarget{communication_8h_source_l00098}\hyperlink{class_communication_aa70c6b4acb921b03ffa8b8b044e87a94}{00098}     QString \hyperlink{class_communication_aa70c6b4acb921b03ffa8b8b044e87a94}{localDeviceName};                    
\Hypertarget{communication_8h_source_l00099}\hyperlink{class_communication_ac8f5004bfaaf7f538ba5ae93255f772b}{00099}     QString \hyperlink{class_communication_ac8f5004bfaaf7f538ba5ae93255f772b}{trame};                              
\Hypertarget{communication_8h_source_l00100}\hyperlink{class_communication_a2539ded2780db2c732690c585c768c96}{00100}     \hyperlink{class_communication_aaa8ce2e87a389c88f4f9a2f07b66ebdd}{EtatPartie} \hyperlink{class_communication_a2539ded2780db2c732690c585c768c96}{etatPartie};                      
00101 
00102     \textcolor{keywordtype}{void} \hyperlink{class_communication_aaf5333662717e69837d2d39164e5a303}{decomposerTrame}();                     
00103     \textcolor{keywordtype}{void} \hyperlink{class_communication_a31f998e3410e7a1d9e65a05a5d51a9b9}{extraireParametresTrameStart}(QStringList &joueurs, QString &modeJeu); 
          
00104     \textcolor{keywordtype}{void} \hyperlink{class_communication_aa7fd74ea88ca7b28cb00e6b74b902394}{extraireParametresTrameRegle}();
00105     \textcolor{keywordtype}{void} \hyperlink{class_communication_a56ed5d11756b1f9efcca609b9f8a59c9}{reamorcerPartie}();
00106 \};
00107 
00108 \textcolor{preprocessor}{#endif // COMMUNICATION\_H}
\end{DoxyCode}
